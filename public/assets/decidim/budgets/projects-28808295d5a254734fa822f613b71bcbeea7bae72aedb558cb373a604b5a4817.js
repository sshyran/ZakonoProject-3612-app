"use strict";$(function(){var t=function(){var t=document.querySelector("[data-progressbox-fixed]"),e=document.querySelector("[data-progress-reference]"),a="is-progressbox-visible";e&&(e.getBoundingClientRect().bottom>0?t.classList.remove(a):t.classList.add(a))};window.addEventListener("scroll",t),window.DecidimBudgets=window.DecidimBudgets||{},window.DecidimBudgets.checkProgressPosition=t}),$(function(){var t=$("#projects, #project"),e=$(".budget-summary__total"),a=$("#limit-excess"),r=parseInt(e.attr("data-total-budget"),10),o=parseInt(e.attr("data-total-projects"),10),s=function(t){t.stopPropagation(),t.preventDefault()};t.on("click",".budget--list__action",function(t){var d=parseInt($(".budget-summary__progressbox").attr("data-current-budget"),10),n=parseInt($(".budget-summary__progressbox").attr("data-current-projects"),10),i=e.attr("data_per_project"),c=$(t.currentTarget),u=parseInt(c.attr("data-budget"),10);c.attr("data-add")&&n===o&&i?(a.foundation("toggle"),s(t)):c.attr("disabled")?s(t):c.attr("data-add")&&d+u>r&&"false"===i&&(a.foundation("toggle"),s(t))})});