"use strict";!function(e){var n=e.DecidimAdmin,i=n.AutoLabelByPositionComponent,t=n.AutoButtonsByPositionComponent,o=n.createDynamicFields,d=n.createSortList,a=e.Decidim.createQuillEditor,l=".meeting-agenda-items",r=".meeting-agenda-item",c=".meeting-agenda-item-childs",m=".meeting-agenda-item-child",u=new i({listSelector:".meeting-agenda-item:not(.hidden)",labelSelector:".card-title span:first",onPositionComputed:function(e,n){$(e).find("input[name$=\\[position\\]]").val(n)}}),s=new t({listSelector:".meeting-agenda-item:not(.hidden)",hideOnFirstSelector:".move-up-agenda-item",hideOnLastSelector:".move-down-agenda-item"}),g=function(){d(".meeting-agenda-items-list:not(.published)",{handle:".agenda-item-divider",placeholder:'<div style="border-style: dashed; border-color: #000"></div>',forcePlaceholderSize:!0,onSortUpdate:function(){u.run()}})},h=function(){d(".meeting-agenda-item-childs-list:not(.published)",{handle:".agenda-item-child-divider",placeholder:'<div style="border-style: dashed; border-color: #000"></div>',forcePlaceholderSize:!0,onSortUpdate:function(){u.run()}})},v=new i({listSelector:".meeting-agenda-item-child:not(.hidden)",labelSelector:".card-title span:first",onPositionComputed:function(e,n){$(e).find("input[name$=\\[position\\]]").val(n)}}),f=new t({listSelector:".meeting-agenda-item-child:not(.hidden)",hideOnFirstSelector:".move-up-agenda-item-child",hideOnLastSelector:".move-down-agenda-item-child"}),p=function(e){return o({placeholderId:"meeting-agenda-item-child-id",wrapperSelector:"#"+e+" "+c,containerSelector:".meeting-agenda-item-childs-list",fieldSelector:m,addFieldButtonSelector:".add-agenda-item-child",removeFieldButtonSelector:".remove-agenda-item-child",moveUpFieldButtonSelector:".move-up-agenda-item-child",moveDownFieldButtonSelector:".move-down-agenda-item-child",onAddField:function(e){h(),e.find(".editor-container").each(function(e,n){a(n)}),v.run(),f.run()},onRemoveField:function(){v.run(),f.run()},onMoveUpField:function(){v.run(),f.run()},onMoveDownField:function(){v.run(),f.run()}})},S={},F=function(e){var n=e.attr("id");S[n]=p(n)},w=function(e){"true"===e.find("input[name$=\\[deleted\\]]").val()&&(e.addClass("hidden"),e.hide())};o({placeholderId:"meeting-agenda-item-id",wrapperSelector:l,containerSelector:".meeting-agenda-items-list",fieldSelector:r,addFieldButtonSelector:".add-agenda-item",removeFieldButtonSelector:".remove-agenda-item",moveUpFieldButtonSelector:".move-up-agenda-item",moveDownFieldButtonSelector:".move-down-agenda-item",onAddField:function(e){F(e),g(),e.find(".editor-container").each(function(e,n){a(n)}),u.run(),s.run()},onRemoveField:function(){u.run(),s.run()},onMoveUpField:function(){u.run(),s.run()},onMoveDownField:function(){u.run(),s.run()}}),g(),$(r).each(function(e,n){var i=$(n);w(i),F(i)}),u.run(),s.run(),v.run(),f.run()}(window);